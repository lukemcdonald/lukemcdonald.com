---
import Section from '@/pages/resume/components/ui/Section.astro'
import { ShieldEllipsis as ExperienceIcon } from 'lucide-astro'

interface ExperienceItem {
  company: string
  endDate?: string | null
  highlights?: string[]
  position: string
  startDate: string
}

interface Props {
  experience: ExperienceItem[]
}

const { experience } = Astro.props
---

<Section
  title="Experience"
  items={experience}
  icon={ExperienceIcon}
>
  <template slot="item">
    {
      (item: ExperienceItem) => (
        <>
          <div>
            {item.position} @ {item.company} ({item.startDate}â€“{item.endDate || 'Present'})
          </div>

          {item.highlights && (
            <ul>
              {item.highlights.map((highlight: string) => (
                <li>{highlight}</li>
              ))}
            </ul>
          )}
        </>
      )
    }
  </template>
</Section>
