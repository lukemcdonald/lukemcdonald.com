---
import Heading from '@/components/Heading.astro'
import Mountains from '@/components/Mountains.astro'
import Text from '@/components/Text.astro'

import EntryHeaderDescription from './EntryHeaderDescription.astro'

export interface Props {
  description?: string
  subtitle?: string
  title: string
}

const { description, subtitle, title } = Astro.props
const hasDescriptionSlot = Astro.slots.has('description')
---

<header
  class="entry__header relative flex grow flex-col justify-center overflow-hidden bg-primary-500 px-5 pt-32 pb-30vw text-primary-900 sm:px-10 lg:grow-0 lg:pb-10 xl:py-20"
>
  <div class="relative z-10">
    {
      subtitle && (
        <Text
          as="span"
          class="mb-1 tracking-wider uppercase"
          size="sm"
        >
          {subtitle}
        </Text>
      )
    }
    <Heading
      as="h1"
      class="mb-6"
      size="5xl"
    >
      {title}.
    </Heading>
    {
      hasDescriptionSlot ?
        <EntryHeaderDescription>
          <slot name="description" />
        </EntryHeaderDescription>
      : description ? <EntryHeaderDescription description={description} />
      : null
    }
  </div>

  <Mountains class="absolute bottom-0 left-0 z-0 w-full" />
</header>
